# CorpFileHub

Корпоративное файловое хранилище с интеграцией Яндекс.Диска.

## Требования
- .NET 8 SDK
- PostgreSQL

## Запуск проекта
1. Скопируйте `CorpFileHub.Presentation/appsettings.Template.json` в `appsettings.json` и заполните значения. Для интеграции с Яндекс.Диском укажите `AccessToken` и `RefreshToken`.
2. Выполните миграции и запустите команду:
   ```bash
   dotnet run --project CorpFileHub.Presentation
   ```

После запуска откройте `/login` для входа в систему.

### Просмотр и редактирование файлов
На странице **Мои документы** можно открыть предпросмотр поддерживаемых форматов и запустить онлайн‑редактирование документов Word/Excel/PowerPoint.

Администраторы могут просматривать журнал действий на странице `/admin/audit`.
Журнал включает отдельные таблицы для входов, системных ошибок и несанкционированных действий. Очистка старых записей выполняется фоновой службой.
## Структура каталогов
- `CorpFileHub.Domain` – бизнес‑логика
- `CorpFileHub.Application` – сценарии использования
- `CorpFileHub.Infrastructure` – интеграции и репозитории
- `CorpFileHub.Presentation` – веб‑интерфейс Blazor Server
- `Archive` – хранения версий файлов (исключено из репозитория)

